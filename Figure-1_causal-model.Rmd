---
title: "Background Diagram"
author: "Mitchell Muniak"
date: "5/23/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(dagitty)
library(ggdag)
library(causaleffect)
library(igraph)
library(rgl)

```


```{r}
library(httr)

set_config(

use_proxy(url="proxy.osumc.edu", port=8080)

)

devtools::install_github("malcolmbarrett/ggdag")
```

Here, I am remaking the diagram post feedback.  This is figure 1 for the paper.  More edits will be made in adobe illustrator.


```{r, out.width="100%", out.height="100%"}

g <- graph.formula("ATB" -+ "Microbiome",
                   "Microbiome" -+ "T-cell Mediated Inflammation" -+ "ICI Response",
                   "Prostaglandin Inflammation" -+ "Microbiome" -+  "T-cell Mediated Inflammation",
                   "PPI" -+ "Microbiome",
                   "H2B" -+ "Microbiome",
                   "NSAIDs" -+ "Prostaglandin Inflammation",
                   "Corticosteroids" -+ "T-cell Mediated Inflammation",
                   "Corticosteroids" -+ "Prostaglandin Inflammation",
                   "Age" -+ "Prostaglandin Inflammation",
                   "Age" -+ "T-cell Mediated Inflammation",
                   "Age" -+ "Microbiome",
                   "Staging" -+ "Prostaglandin Inflammation",
                   "ECOG" -+ "Prostaglandin Inflammation",
                   "ECOG" -+ "T-cell Mediated Inflammation",
                   "ECOG" -+ "Microbiome",
                   "BMI" -+ "Prostaglandin Inflammation",
                   "BMI" -+ "T-cell Mediated Inflammation",
                   "BMI" -+ "Microbiome",
                   "CCI" -+ "Corticosteroids",
                   "CCI" -+ "H2B",
                   "CCI" -+ "PPI",
                   "CCI" -+ "NSAIDs",
                   "CCI" -+ "ATB",
                   "CCI" -+ "ECOG",
                   "Prostaglandin Inflammation" -+ "T-cell Mediated Inflammation",
                   "ICI Response" -+ "Overall Survival",
                   
                      simplify = TRUE)


plot.igraph(g, size = 90)

tkplot(g)
```
